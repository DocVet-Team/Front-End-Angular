<!-- <!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/style/css/Perfil/perfil.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css">
</head> -->



<div class="navbar navbar-dark verdeFigurante">
    <div class="container-fluid">

        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuLateral">
            <!-- <span class="navbar-toggler-icon dark-toggler"></span> -->
            <span style="color: black;" class="material-symbols-outlined">menu</span>
        </button>

        <!--INÍCIO DO OFFCANVAS-->
        <section class="offcanvas offcanvas-start verdeEscuro" id="menuLateral" tabindex="-1">
            <!--start(Iniciará na esquerda)-->
            <!--É importante o id ser o mesmo que aquele informado no data-bs-target para que ambos sejam linkados-->
            <div class="offcanvas-header">
                <h4 id="nomePerfil" class="offcanvas-title text-light" value=""></h4>
                <button class="btn btn-light btn-lg bi-x-circle" type="button" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="perfildonoMenu">
                <img id="fotoPerfil" class="circuloPerfil" src="" alt="perfil">
                <a routerlink="/perfil"><button class="btn btn-lg btn-light mt-3">Meu Perfil</button></a><!--lasanha-->
            </div>

            <div class="petsMenu">
                <div id="botoesPet" class="row d-flex align-items-center justify-content-center">

                </div>
            </div>
        </section>
        <!--FIM DO OFFCANVAS-->
</div>

<div class="DonoPetPerfil" id="informacoesDonoPet">
    <div class="container ">
        <form id="formDonoPet">
            <h1 class="d-flex justify-content-center pb-4 p-4">Perfil de Usuario</h1>

            <input hidden type="number" id="userId" />

            <div class="container">
                <div class="row mb-4">
                    <div class="col">
                        <div class="form-control">
                            <label>Nome</label>
                            <input class="form-control" id="nome" type="text" name="nome" disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>CPF</label>
                            <input class="form-control" id="cpf" type="text" disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Telefone</label>
                            <input class="form-control" id="telefone" type="text" disabled />

                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>E-mail</label>
                            <input class="form-control" id="email" type="email" disabled />

                        </div>
                    </div>
                </div>
            </div>

            <div class="row mb-2">

                <div class="col">
                    <div class="form-control">
                        <label>Link de foto</label>
                        <input class="form-control" id="fotodonopet" type="text" oninput="carregarImagemPerfil()"
                            disabled />

                    </div>
                </div>
            </div>
            <div class="container d-flex justify-content-center mt-3">
                <button onclick="enableEditDonoPet(); editcadastro(userId.value);" class="botao" type="button">
                    <img src="/assets/images/editar.png" alt="Editar">
                </button>
                <button onclick="salvarEdit(userId.value)" class="botao" type="button"><img src="/assets/images/salvar1.png"
                        alt="Salvar"></button>
            </div>
        </form>
        <div id="userId" class="text-center"></div>
    </div>
</div>

<!--=======================================PET PERFIL====================================-->

<div class="petPerfil" id="informacoesNovoPet" style="display: none;">
    <div class="container">
        <form id="formCadastroPet">

        </form>
    </div>
</div>

<div class="petPerfil" id="informacoesPet" style="display: none;">
    <div class="container">
        <form id="formPet">

        </form>
    </div>
</div>

<div class="vacinas" id="informacoesVacinas" style="display: none;">
    <div class="container ">
        <form id="formVacina">

        </form>
    </div>
</div>

<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous">
        </script>

    <script>
        const API_URL = "http://localhost:3000";
        const userId = localStorage.userId;

        document.addEventListener('DOMContentLoaded', () => {
            loadCadastros(userId);
            loadPetBotoes(userId);
        });

        async function addPet(){
            const formPetNovo = document.getElementById('formCadastroPet');

            let cadastro =
            `
            <h1 class="d-flex justify-content-center pb-4 p-4">Cadastro de Pet</h1>

            <input type="hidden" id="petId" />

            <div class="container">
                <div class="row mb-4">
                    <div class="col">
                        <div class="form-control">
                            <label>Nome Pet</label>
                            <input class="form-control" id="NewnomePet" type="text"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Raça</label>
                            <input class="form-control" id="Newraca" type="text"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Sexo</label>
                            <select class="form-select" name="select" id="Newsexo">
                                <option name="sexo" value="M">M</option>
                                <option name="sexo" value="F" selected>F</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Tipo de Animal</label>
                            <select class="form-select" name="select" id="Newtipo">
                                <option name="tipo" value="Cachorro" selected>Cachorro</option>
                                <option name="tipo" value="Gato">Gato</option>
                                <option name="tipo" value="Ave">Ave</option>
                                <option name="tipo" value="Peixe">Peixe</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row mb-4 d-flex align-items-center">
                    <div class="col">
                        <div class="form-control">
                            <label>Peso</label>
                            <input class="form-control" id="Newpeso" type="number"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Porte</label>
                            <select class="form-select" name="select" id="Newporte">
                                <option name="porte" value="Pequeno">Pequeno</option>
                                <option name="porte" value="Medio">Médio</option>
                                <option name="porte" value="Grande" selected>Grande</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Idade</label>
                            <input class="form-control" id="Newidade" type="number"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Castrado?</label>
                            <select class="form-select" id="Newcastracao">
                                <option value="true" selected>Sim</option>
                                <option value="false">Não</option>
                            </select>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row mb-2">

                <div class="col">
                    <div class="form-control">
                        <label>Link de foto</label>
                        <input class="form-control" id="NewfotoPet" type="text"/>
                    </div>
                </div>
            </div>
            <div class="container d-flex justify-content-center mt-3">
                <button class="botao" type="button"><img src="/style/img/salvar1.png" alt="Salvar" onclick="adicionarPet()"></button>
                <button class="botao" type="button"><img src="/style/img/excluir.png" alt="Excluir" onclick="resetForm()"></button>
            </div>
            </div>
            `;

            formPetNovo.innerHTML = cadastro;
        }

        async function resetForm(){
            document.getElementById('NewnomePet').value = ``;
            document.getElementById('Newraca').value = ``;
            document.getElementById('Newsexo').value = ``;
            document.getElementById('Newtipo').value = ``;
            document.getElementById('Newcastracao').value = ``;
            document.getElementById('Newpeso').value = ``;
            document.getElementById('Newporte').value = ``;
            document.getElementById('Newidade').value = ``;
            document.getElementById('NewfotoPet').value = ``;
        }

        async function adicionarPet(){
            const nome = document.getElementById('NewnomePet').value;
            const raca = document.getElementById('Newraca').value;
            const sexo = document.getElementById('Newsexo').value;
            const tipo = document.getElementById('Newtipo').value;
            const castracao = document.getElementById('Newcastracao').value;
            const peso = document.getElementById('Newpeso').value;
            const porte = document.getElementById('Newporte').value;
            const idade = document.getElementById('Newidade').value;
            const foto = document.getElementById('NewfotoPet').value;

            const dono_id = userId;

        const resposta = await fetch(API_URL + "/pet", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
            body: JSON.stringify({
            nome,
            raca,
            sexo,
            tipo,
            castracao,
            peso,
            porte,
            idade,
            foto,
            dono_id,
            }),
        });
        if (resposta.ok) {
            resetForm();
            alert("Pet cadastrado com sucesso!");
          }
        }

        async function loadPetBotoes(id){
            botoesHtml = ``;
            const botoesPet = document.getElementById('botoesPet');
            const resposta = await fetch(API_URL + '/pet/pesquisa/' + id);
            const pets = await resposta.json();

            for (pet of pets){
                botoesHtml +=
                `
                <button id="${pet.id}" onclick="alternarVisibilidadePet(); loadPet(${pet.id})" class="btn botaoPet btn-lg btn-light mt-3">${pet.nome}</button>
                `;
            }
                botoesHtml +=
                `
                <button onclick="addPet(); alternarVisibilidadeNovoPet()" class="btn botaoPet btn-lg btn-success mt-3 borda">Adicionar Pet</button>
                `;
            botoesPet.innerHTML = botoesHtml;
        }

        async function loadPet(idPet){
            let petSexoHtml = ``;
            let tipoHtml = ``;
            let porteHtml = ``;
            let racaHtml = ``;
            let castracaoHtml = ``;
            let foto = ``;
            const formPet = document.getElementById('formPet');

            const response = await fetch(API_URL + '/pet/' + idPet);//==================COLOCAR PARÂMETRO ID DE PET
            const pet = await response.json();

            if (pet.raca===null ? racaHtml = `` : racaHtml = pet.raca);

            if (pet.sexo === null || pet.sexo === ''){
                petSexoHtml =
                `
                <select class="form-select" name="select" id="sexo" disabled>
                    <option id="excluirSexo" value="" selected></option>
                    <option name="sexo" value="M">M</option>
                    <option name="sexo" value="F">F</option>
                </select>
                `;
            }else{
                if (pet.sexo === 'M'){
                    petSexoHtml =
                    `
                    <select class="form-select" name="select" id="sexo" disabled>
                        <option name="sexo" value="M" selected>M</option>
                        <option name="sexo" value="F">F</option>
                    </select>
                    `;
                }else if(pet.sexo === 'F'){
                    petSexoHtml =
                    `
                    <select class="form-select" name="select" id="sexo" disabled>
                        <option name="sexo" value="M">M</option>
                        <option name="sexo" value="F" selected>F</option>
                    </select>
                    `;
                }
            }

            if (pet.tipo === null || pet.tipo === ''){
                tipoHtml =
                `
                <select class="form-select" name="select" id="tipo" disabled>
                    <option id="excluirTipo" value=""></option>
                    <option name="tipo" value="Cachorro">Cachorro</option>
                    <option name="tipo" value="Gato">Gato</option>
                    <option name="tipo" value="Ave">Ave</option>
                    <option name="tipo" value="Peixe">Peixe</option>
                </select>
                `;
            }else if (pet.tipo === 'Cachorro'){
                tipoHtml =
                `
                <select class="form-select" name="select" id="tipo" disabled>
                    <option name="tipo" value="Cachorro" selected>Cachorro</option>
                    <option name="tipo" value="Gato">Gato</option>
                    <option name="tipo" value="Ave">Ave</option>
                    <option name="tipo" value="Peixe">Peixe</option>
                </select>
                `
                ;
            }else if (pet.tipo === 'Gato'){
                tipoHtml =
                `
                <select class="form-select" name="select" id="tipo" disabled>
                    <option name="tipo" value="Cachorro">Cachorro</option>
                    <option name="tipo" value="Gato" selected>Gato</option>
                    <option name="tipo" value="Ave">Ave</option>
                    <option name="tipo" value="Peixe">Peixe</option>
                </select>
                `
                ;
            }else if (pet.tipo === 'Ave'){
                tipoHtml =
                `
                <select class="form-select" name="select" id="tipo" disabled>
                    <option name="tipo" value="Cachorro">Cachorro</option>
                    <option name="tipo" value="Gato">Gato</option>
                    <option name="tipo" value="Ave" selected>Ave</option>
                    <option name="tipo" value="Peixe">Peixe</option>
                </select>
                `
                ;
            }else if (pet.tipo === 'Peixe'){
                tipoHtml =
                `
                <select class="form-select" name="select" id="tipo" disabled>
                    <option name="tipo" value="Cachorro">Cachorro</option>
                    <option name="tipo" value="Gato">Gato</option>
                    <option name="tipo" value="Ave">Ave</option>
                    <option name="tipo" value="Peixe" selected>Peixe</option>
                </select>
                `
                ;
            }

            if (pet.porte === null || pet.porte === ''){
                porteHtml =
                `
                <select class="form-select" name="select" id="porte" disabled>
                    <option name="porte" id="porteExcluir" value=""></option>
                    <option name="porte" value="Pequeno">Pequeno</option>
                    <option name="porte" value="Medio">Médio</option>
                    <option name="porte" value="Grande">Grande</option>
                </select>
                `;
            }else if(pet.porte === 'Pequeno'){
                porteHtml =
                `
                <select class="form-select" name="select" id="porte" disabled>
                    <option name="porte" value="Pequeno" selected>Pequeno</option>
                    <option name="porte" value="Medio">Médio</option>
                    <option name="porte" value="Grande">Grande</option>
                </select>
                `;
            }else if(pet.porte === 'Médio'){
                porteHtml =
                `
                <select class="form-select" name="select" id="porte" disabled>
                    <option name="porte" value="Pequeno">Pequeno</option>
                    <option name="porte" value="Medio" selected>Médio</option>
                    <option name="porte" value="Grande">Grande</option>
                </select>
                `;
            }else if(pet.porte === 'Grande'){
                porteHtml =
                `
                <select class="form-select" name="select" id="porte" disabled>
                    <option name="porte" value="Pequeno">Pequeno</option>
                    <option name="porte" value="Medio">Médio</option>
                    <option name="porte" value="Grande" selected>Grande</option>
                </select>
                `;
            }

            if (pet.castracao === null || pet.castracao === ''){
                castracaoHtml =
                `
                <select class="form-select" id="castracao" disabled>
                    <option value="true">Sim</option>
                    <option value="false" selected>Não</option>
                </select>
                `;
            }else if (pet.castracao === true){
                castracaoHtml =
                `
                <select class="form-select" id="castracao" disabled>
                    <option value="true" selected>Sim</option>
                    <option value="false">Não</option>
                </select>
                `;
            }else{
                castracaoHtml =
                `
                <select class="form-select" id="castracao" disabled>
                    <option value="true">Sim</option>
                    <option value="false" selected>Não</option>
                </select>
                `;
            }

            if (pet.foto === null || pet.foto === '' ? foto = '../style/img/petProfileIcon.jpg' : foto = pet.foto);

            formPet.innerHTML =
            `
            <div class="container d-flex align-items-center justify-content-center mt-5">
                <div class="row">
                    <img class="petProfileIcon" src="${foto}">
                </div>
            </div>

            <h1 class="d-flex justify-content-center pb-4 p-4">${pet.nome}</h1>

            <input type="hidden" id="petId" />

            <div class="container">
                <div class="row mb-4">
                    <div class="col">
                        <div class="form-control">
                            <label>Nome Pet</label>
                            <input class="form-control" id="nomePet" type="text" name="nomePet" value="${pet.nome}" disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Raça</label>
                            <input class="form-control" id="raca" type="text" value=" `+ racaHtml + ` " disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Sexo</label>
                            `
                            + petSexoHtml +
                            `
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Tipo de Animal</label>
                            `
                            + tipoHtml +
                            `
                        </div>
                    </div>
                </div>

                <div class="row mb-4 d-flex align-items-center">
                    <div class="col">
                        <div class="form-control">
                            <label>Peso</label>
                            <input class="form-control" id="peso" type="number" value="${pet.peso}" disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Porte</label>
                            `
                            + porteHtml +
                            `
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Idade</label>
                            <input class="form-control" id="idade" type="number" value="${pet.idade}" disabled />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-control">
                            <label>Castrado?</label>
                            `
                            + castracaoHtml +
                            `
                        </div>
                    </div>

                </div>
            </div>

            <div class="row mb-2">

                <div class="col">
                    <div class="form-control">
                        <label>Link de foto</label>
                        <input class="form-control" id="fotoPet" type="text" disabled value="${foto}"/>
                    </div>
                </div>
            </div>
            <div class="container d-flex justify-content-center mt-3">
                <button onclick="enableEditPet(false)" class="botao" type="button"><img src="/style/img/editar.png"
                        alt="Editar"></button>
                <button class="botao" type="button"><img src="/style/img/salvar1.png" alt="Salvar" onclick="salvarPet(${idPet})"></button>
                <button class="botao" type="button"><img src="/style/img/excluir.png" alt="Excluir" onclick="deletePet(${idPet})"></button>
                <button class="botao" onclick="alternarVisibilidadeVacina(), loadVacina(${idPet})" type="button"><img
                        src="/style/img/vacina.png" alt="Vacinas"></button>
            </div>
            </div>
            `;
        }

        async function salvarPet(idPet){
            const nomePet = document.getElementById('nomePet');
            const racaPet = document.getElementById('raca');
            const sexoPet = document.getElementById('sexo');
            const tipoPet = document.getElementById('tipo');
            const castracaoPet = document.getElementById('castracao');
            const pesoPet = document.getElementById('peso');
            const portePet = document.getElementById('porte');
            const idadePet = document.getElementById('idade');
            const fotoPet = document.getElementById('fotoPet');

            let nome, raca, sexo, tipo, idade, peso, porte, castracao, foto;

            if (nomePet.value === '' ? nome = null : nome = nomePet.value);
            if (racaPet.value === '' ? raca = null : raca = racaPet.value);
            if (sexoPet.value === '' ? sexo = null : sexo = sexoPet.value);
            if (tipoPet.value === '' ? tipo = null : tipo = tipoPet.value);
            if (idadePet.value === '' ? idade = null : idade = idadePet.value);
            if (pesoPet.value === '' ? peso = null : peso = parseFloat(pesoPet.value));
            if (portePet.value === '' ? porte = null : porte = portePet.value);
            if (castracaoPet.value === '' ? castracao = null : castracao = castracaoPet.value);
            if (fotoPet.value === '' ? foto = null : foto = fotoPet.value);

            //console.log(castracao);

            const resposta = await fetch(API_URL + "/pet/" + idPet, {
            method: "PUT",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                nome,
                raca,
                sexo,
                tipo,
                castracao,
                peso,
                porte,
                idade,
                foto,
                }),
            });

            if (resposta.ok) {
                alert("Pet modificado com sucesso!");
                enableEditPet(true);
            } else {
                alert("Não foi possível modificar pet");
            }
        }

        async function loadVacina(idPet){//==================COLOCAR PARÂMETRO ID DE PET
            const formVacina = document.getElementById('formVacina');
            const resposta = await fetch(API_URL + '/vacina/' + idPet);

            if (resposta.ok){
                const vacina = await resposta.json();

                formVacina.innerHTML =
                `
                <h1 class="d-flex justify-content-center pb-4 p-4">Vacinas</h1>

                        <input type="hidden" id="petId" />

                        <div class="container">
                            <div class="row mb-4">
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina V8 / V10</label>
                                        <input class="form-control" value="${vacina.vac_v8_v10}" id="v8_v10" type="date" disabled />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina contra Raiva</label>
                                        <input class="form-control" value="${vacina.vac_raiva}" id="raiva" type="date" disabled />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina contra Tosse</label>
                                        <input class="form-control" value="${vacina.vac_tosse}" id="tosse" type="date" disabled />
                                    </div>
                                </div>

                            </div>
                            <div class="container d-flex justify-content-center mt-3">
                                <button onclick="enableEditVacina(false);" class="botao" type="button"
                                    id="editarButton">
                                    <img src="/style/img/editar.png" alt="Editar">
                                </button>
                                <button onclick="salvarVacina(${idPet})" class="botao" type="button"><img src="/style/img/salvar1.png"
                                        alt="Salvar"></button>
                            </div>
                        </div>
                `;
            }else{
                formVacina.innerHTML =
                `
                <h1 class="d-flex justify-content-center pb-4 p-4">Cadastrar Vacinas</h1>

                        <input type="hidden" id="petId" />

                        <div class="container">
                            <div class="row mb-4">
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina V8 / V10</label>
                                        <input class="form-control" value="" id="Newv8_v10" type="date"/>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina contra Raiva</label>
                                        <input class="form-control" value="" id="Newraiva" type="date"/>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-control">
                                        <label>Vacina contra Tosse</label>
                                        <input class="form-control" value="" id="Newtosse" type="date"/>
                                    </div>
                                </div>

                            </div>
                            <div class="container d-flex justify-content-center mt-3">
                                <button onclick="cadastrarVacina(${idPet})" class="botao" type="button"><img src="/style/img/salvar1.png"
                                        alt="Salvar"></button>
                            </div>
                        </div>
                `;
            }
        }

        async function cadastrarVacina(idPet){
            const vac_v8_v10 = document.getElementById('Newv8_v10').value;
            const vac_raiva = document.getElementById('Newraiva').value;
            const vac_tosse = document.getElementById('Newtosse').value;
            const id_pet = idPet;

            const resposta = await fetch(API_URL + '/vacina', {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    id_pet,
                    vac_v8_v10,
                    vac_raiva,
                    vac_tosse,
                }),
            });

            if (resposta.ok){
                alert('Vacinas cadastradas com sucesso!');
            }


        }

        async function salvarVacina(idPet){
            const vac_v8_v10 = document.getElementById('v8_v10').value;
            const vac_raiva = document.getElementById('raiva').value;
            const vac_tosse = document.getElementById('tosse').value;

            const resposta = await fetch(API_URL + '/vacina/' + idPet, {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    vac_v8_v10,
                    vac_raiva,
                    vac_tosse,
                }),
            });

            if (resposta.ok){
                alert('Vacinas modificadas com sucesso!');
                enableEditVacina(true);
            }else{
                alert('Não foi possível modificar vacinas')
            }
        }

        async function loadCadastros(userId) {
            try {
                const response = await fetch(`${API_URL}/donopet/${userId}`);
                if (!response.ok) {
                    throw new Error('Erro ao carregar o cadastro do usuário.');
                }

                const cadastro = await response.json();

                if (cadastro) {
                    document.getElementById('userId').value = (cadastro.ID);
                    document.getElementById('nome').value = (cadastro.Nome);
                    document.getElementById('cpf').value = (cadastro.CPF);
                    document.getElementById('telefone').value = (cadastro.Telefone);
                    document.getElementById('email').value = (cadastro.Email);
                    document.getElementById('fotodonopet').value = (cadastro.Fotodonopet);
                    document.getElementById('nomePerfil').innerText = (cadastro.Nome);
                    const idPerfilImagem = document.getElementById('fotoPerfil');

                    if (cadastro.Fotodonopet === null || cadastro.Fotodonopet === ''){
                        idPerfilImagem.src = './style/img/FotoPerfilVazia.png'
                    }else{
                        idPerfilImagem.src = cadastro.Fotodonopet;
                    }
                } else {
                    console.log('Usuário não encontrado.');
                }
            } catch (error) {
                console.error('Ocorreu um erro:', error);
            }
        }

        //função para exibir uma foto no menu perfil
        function carregarImagemPerfil() {
            const fotoInput = document.getElementById('fotodonopet');
            console.log(fotoInput);
            const fotoPerfil = document.querySelector('.perfildonoMenu img');
            console.log(fotoPerfil);
            fotoPerfil.src = fotoInput.value;
        }

        //função para exibir os dados da pet
        function alternarVisibilidadePet() {
            var informacoesPet = document.getElementById('informacoesPet');
            var informacoesDonoPet = document.getElementById('informacoesDonoPet');
            let informacoesNovoPet = document.getElementById('informacoesNovoPet');

            if (informacoesPet.style.display === 'none') {
                informacoesPet.style.display = 'block';
                informacoesDonoPet.style.display = 'none';
                informacoesNovoPet.style.display = 'none';
            // } else {
            //     informacoesPet.style.display = 'none';
            //     informacoesDonoPet.style.display = 'block';
            //     informacoesVacinas.style.display = 'none';
            }
        }

        //NOVO CÓDIGO DO GUILHERME
        function alternarVisibilidadeNovoPet() {
            let informacoesDonoPet = document.getElementById('informacoesDonoPet');
            let informacoesPet = document.getElementById('informacoesPet');
            let informacoesVacinas = document.getElementById('informacoesVacinas');
            let informacoesNovoPet = document.getElementById('informacoesNovoPet');

            informacoesNovoPet.style.display = 'block';
            informacoesDonoPet.style.display = 'none';
            informacoesVacinas.style.display = 'none';
            informacoesPet.style.display = 'none';
        }

        //função para exibir os dados da vacina
        function alternarVisibilidadeVacina() {
            var informacoesVacinas = document.getElementById('informacoesVacinas');

            if (informacoesVacinas.style.display === 'none') {
                informacoesVacinas.style.display = 'block';
            } else {
                informacoesVacinas.style.display = 'none';
            }
        }

        //função para habilitar a edição dos campos do dono Pet
        function enableEditDonoPet() {
            var inputs = document.querySelectorAll('#formDonoPet input, #formDonoPet select');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].disabled = false;
            }
        }

        //função para habilitar a edição dos campos da Pet
        function enableEditPet(boolean) {
            var inputs = document.querySelectorAll('#formPet input, #formPet select');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].disabled = boolean;
            }
        }

        function enableEditVacina(boolean) {
            var inputs = document.querySelectorAll('#formPet input, #formPet select');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].disabled = boolean;
            }
        }

        //função para habilitar a edição dos campos da Vacina
        function enableEditVacina(boolean) {
            var inputs = document.querySelectorAll('#formVacina input, #formVacina select');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].disabled = boolean;
            }
        }

/*
        document.getElementById("editarButton").addEventListener("click", function () {
            this.disabled = true;
        });
*/
        async function editcadastro(userId) {
            const response = await fetch(API_URL + '/donopet/' + userId);
            const cadastro = await response.json();
            nome.value = cadastro.Nome;
            cpf.value = cadastro.CPF;
            telefone.value = cadastro.Telefone
            email.value = cadastro.Email
        }

        async function salvarEdit(userId) {
            console.log(userId);
            const nomeInput = nome.value;
            const cpfInput = cpf.value;
            const telefoneInput = telefone.value;
            const emailInput = email.value;
            const fotoInput = fotodonopet.value;

            if (nomeInput && cpfInput && telefoneInput && emailInput) {
                //try {

                if (userId) {
                    await fetch(API_URL + '/donopet/' + userId, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            nome: nomeInput,
                            cpf: cpfInput,
                            telefone: telefoneInput,
                            email: emailInput,
                            fotodonopet: fotoInput
                        })
                    });

                    alert('cadastro editado com sucesso!')

                } else {
                    alert("Usuário não existe");
                }
                //} catch (error) {
                // console.error("Erro ao salvar os dados:", error);
                // Lógica para lidar com o erro
                //}
            } else {
                alert("Preencha todos os campos");
            }
        }

    </script> -->
